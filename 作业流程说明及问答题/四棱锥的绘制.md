# 四棱锥的绘制

<!--注：源码修改自教程项目03-->

要绘制一个四棱锥需要画6个三角形，共18个顶点，其中有大量顶点数据会重复，占用大量的内存空间

为了避免提供大量重复的顶点数据，减少顶点缓冲区的占用空间，我们可以使用索引缓冲区进行替代指定顺序绘制。

  `m_pd3dImmediateContext->DrawIndexed(18, 0, 0);`

在使用之前，现初始化顶点数组

    // ******************
    // 设置四棱锥顶点
    //           4
    //         / \\
    //        /   \\
    //     1 / ____\\3        很抽象的四棱锥，凑合看吧2333   
    //    | /     | /         底面四个顶点分别是0 1 2 3号
    //    |/______|/          棱锥顶点是4号
    //  0        2
    VertexPosColor vertices[] =
    {
        { XMFLOAT3(-1.0f, -1.0f, -1.0f), XMFLOAT4(1.0f, 0.0f, 0.0f, 1.0f) },
        { XMFLOAT3(-1.0f, -1.0f, 1.0f), XMFLOAT4(0.0f, 1.0f, 0.0f, 1.0f) },
        { XMFLOAT3(1.0f, -1.0f, -1.0f), XMFLOAT4(0.0f, 1.0f, 0.0f, 1.0f) },
        { XMFLOAT3(1.0f, -1.0f, 1.0f), XMFLOAT4(0.0f, 1.0f, 1.0f, 1.0f) },
        { XMFLOAT3(0.0f, 1.0f, 0.0f), XMFLOAT4(0.0f, 0.0f, 1.0f, 1.0f) }
    };

初始化索引数组

    // ******************
    // 索引数组
    //
    DWORD indices[] = {
        // 正面
        0, 4, 2,
        // 左面
        1, 4, 0,
        // 背面
        3, 4, 1,
        // 右面
        2, 4, 3,
        // 底面
        0, 2, 1,
        1, 2, 3
    };

这样